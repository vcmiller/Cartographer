[gd_scene load_steps=24 format=3 uid="uid://cegqjo31aarvw"]

[ext_resource type="Script" path="res://LevelController.gd" id="1_7gly0"]
[ext_resource type="PackedScene" uid="uid://c56yvex4g3pif" path="res://Scenes/player.tscn" id="1_ad445"]
[ext_resource type="Script" path="res://EditableMap.gd" id="2_tkkob"]
[ext_resource type="Script" path="res://addons/zylann.hterrain/hterrain.gd" id="3_c7gw5"]
[ext_resource type="Resource" path="res://TerrainData/data.hterrain" id="4_hqkq0"]
[ext_resource type="Script" path="res://addons/zylann.hterrain/hterrain_texture_set.gd" id="5_3qa8x"]
[ext_resource type="Texture2D" uid="uid://dbtnnv53ap7d7" path="res://Textures/grass_1_basecolor-1K.png" id="6_andtf"]
[ext_resource type="Texture2D" uid="uid://doeyfpmulhmiq" path="res://Textures/Cliff_basecolor.png" id="7_x6axp"]
[ext_resource type="Texture2D" uid="uid://7m5c5uxiaa3m" path="res://Textures/grass_1_normal-1K.png" id="8_jb2gq"]
[ext_resource type="Texture2D" uid="uid://dgqwjkwa2ckuq" path="res://Textures/Cliff_normal.png" id="9_ff7x0"]
[ext_resource type="Script" path="res://addons/zylann.hterrain/hterrain_detail_layer.gd" id="10_mvm6s"]
[ext_resource type="Texture2D" uid="uid://6jmdwj3vn6m0" path="res://addons/zylann.hterrain/tools/icons/icon_detail_layer_node.svg" id="11_8siu6"]
[ext_resource type="PackedScene" path="res://Scenes/house.tscn" id="12_ain71"]
[ext_resource type="PackedScene" uid="uid://7jfrr44c1tir" path="res://Scenes/chest.tscn" id="13_rhw22"]
[ext_resource type="Script" path="res://navigator_spawn.gd" id="14_nmrc2"]
[ext_resource type="PackedScene" uid="uid://url466m8etkf" path="res://navigator.tscn" id="16_7r0ls"]
[ext_resource type="PackedScene" uid="uid://dkv2gdruwmqqp" path="res://Scenes/playback_canvas.tscn" id="17_0p3wf"]
[ext_resource type="PackedScene" uid="uid://cpyuibv7in8lg" path="res://Scenes/player_canvas.tscn" id="18_400c0"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_a5k6u"]

[sub_resource type="Sky" id="Sky_gagda"]
sky_material = SubResource("ProceduralSkyMaterial_a5k6u")

[sub_resource type="Environment" id="Environment_yanan"]
background_mode = 2
sky = SubResource("Sky_gagda")

[sub_resource type="Resource" id="Resource_5we7l"]
script = ExtResource("2_tkkob")
Width = 100
Height = 100

[sub_resource type="Resource" id="Resource_v8bm5"]
script = ExtResource("5_3qa8x")
mode = 0
textures = [[ExtResource("6_andtf"), ExtResource("7_x6axp")], [ExtResource("8_jb2gq"), ExtResource("9_ff7x0")]]

[node name="Level1" type="Node3D" node_paths=PackedStringArray("navigator_spawn_points", "player")]
script = ExtResource("1_7gly0")
navigator_spawn_points = [NodePath("Start")]
player = NodePath("Player")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_yanan")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.951718, 0.306975, 0, -0.306975, 0.951718, -0.00377464, -0.0199896, 0.00757551)

[node name="Player" parent="." node_paths=PackedStringArray("player_canvas") instance=ExtResource("1_ad445")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 43.1989, 0.994233, 45.031)
Map = SubResource("Resource_5we7l")
player_canvas = NodePath("../PlayerCanvas")

[node name="HTerrain" type="Node3D" parent="."]
script = ExtResource("3_c7gw5")
map_scale = Vector3(0.781, 1, 0.781)
_terrain_data = ExtResource("4_hqkq0")
chunk_size = 16
collision_enabled = true
collision_layer = 1
collision_mask = 1
shader_type = "Classic4"
custom_shader = null
custom_globalmap_shader = null
texture_set = SubResource("Resource_v8bm5")
render_layers = 1
cast_shadow = 1
shader_params/u_ground_uv_scale_per_texture = Vector4(10, 5, 20, 20)
shader_params/u_depth_blending = true
shader_params/u_triplanar = false
shader_params/u_tile_reduction = Vector4(0, 1, 0, 0)
shader_params/u_globalmap_blend_start = null
shader_params/u_globalmap_blend_distance = null
shader_params/u_colormap_opacity_per_texture = Vector4(1, 1, 1, 1)
shader_params/u_specular = 0.5

[node name="HTerrainDetailLayer" type="Node3D" parent="HTerrain"]
script = ExtResource("10_mvm6s")
shader_params/u_globalmap_tint_bottom = null
shader_params/u_globalmap_tint_top = null
shader_params/u_bottom_ao = null
shader_params/u_instance_scale = Vector3(1, 1, 1)
shader_params/u_roughness = 0.9
metadata/_editor_icon = ExtResource("11_8siu6")

[node name="House" parent="." instance=ExtResource("12_ain71")]
transform = Transform3D(0.913907, 0, -0.405923, 0, 1, 0, 0.405923, 0, 0.913907, 44.0488, 0, 34.9483)

[node name="Chest" parent="." instance=ExtResource("13_rhw22")]

[node name="Start" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 42.904, 1, 38.216)
script = ExtResource("14_nmrc2")
navigator_scene = ExtResource("16_7r0ls")

[node name="Marker3D2" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.62, 1, 7.13)

[node name="PlaybackCanvas" parent="." node_paths=PackedStringArray("level_controller") instance=ExtResource("17_0p3wf")]
level_controller = NodePath("..")

[node name="PlayerCanvas" parent="." instance=ExtResource("18_400c0")]

[node name="SpectatorCamera" type="Camera3D" parent="."]
transform = Transform3D(0.999998, 0.00171881, -0.000303073, 0, 0.173648, 0.984808, 0.00174533, -0.984806, 0.173648, 25, 34.213, 33.164)
